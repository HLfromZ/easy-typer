(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&h.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,s=1;s<o.length;s++){var r=o[s];0!==i[r]&&(n=!1)}n&&(a.splice(e--,1),t=c(c.s=o[0]))}return t}var n={},s={app:0},i={app:0},a=[];function r(t){return c.p+"js/"+({"about~changelog":"about~changelog",about:"about",changelog:"changelog",practice:"practice",setting:"setting",summary:"summary"}[t]||t)+"."+{"about~changelog":"45d01fc0",about:"274d3825",changelog:"405501f6",practice:"cbc24fff",setting:"a5dd6ca1",summary:"c7b4fd88"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(t){var e=[],o={practice:1};s[t]?e.push(s[t]):0!==s[t]&&o[t]&&e.push(s[t]=new Promise((function(e,o){for(var n="css/"+({"about~changelog":"about~changelog",about:"about",changelog:"changelog",practice:"practice",setting:"setting",summary:"summary"}[t]||t)+"."+{"about~changelog":"31d6cfe0",about:"31d6cfe0",changelog:"31d6cfe0",practice:"691b3b29",setting:"31d6cfe0",summary:"31d6cfe0"}[t]+".css",i=c.p+n,a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var l=a[r],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===n||d===i))return e()}var h=document.getElementsByTagName("style");for(r=0;r<h.length;r++){l=h[r],d=l.getAttribute("data-href");if(d===n||d===i)return e()}var u=document.createElement("link");u.rel="stylesheet",u.type="text/css",u.onload=e,u.onerror=function(e){var n=e&&e.target&&e.target.src||i,a=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=n,delete s[t],u.parentNode.removeChild(u),o(a)},u.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(u)})).then((function(){s[t]=0})));var n=i[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=a);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=r(t);var h=new Error;l=function(e){d.onerror=d.onload=null,clearTimeout(u);var o=i[t];if(0!==o){if(o){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",h.name="ChunkLoadError",h.type=n,h.request=s,o[1](h)}i[t]=void 0}};var u=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,o){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(o,n,function(e){return t[e]}.bind(null,n));return o},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/easy-typer/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var h=0;h<l.length;h++)e(l[h]);var u=d;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("cd49")},1:function(t,e){},10:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},"4c64":function(t,e,o){"use strict";var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.achievements,stripe:"stripe"}},[e("el-table-column",{attrs:{prop:"title",type:"expand",label:"成绩"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" 第"+t._s(e.row.identity)+"段 速度"+t._s(e.row.typeSpeed)+" 击键"+t._s(e.row.hitSpeed)+" 码长"+t._s(e.row.codeLength)+" 字数"+t._s(e.row.contentLength)+" 错字"+t._s(e.row.error)+" 用时"+t._s(t.formatTime(e.row.usedTime))+"秒 暂停"+t._s(e.row.pauseCount)+"次"+t._s(t.formatTime(e.row.pauseTime))+"秒 键准"+t._s(e.row.accuracy)+"% 键法"+t._s(e.row.balance)+"% 左"+t._s(e.row.leftHand)+" 右"+t._s(e.row.rightHand)+" 理论码长"+t._s(e.row.idealCodeLength)+" 打词"+t._s(e.row.phrase)+" 打词率"+t._s(e.row.phraseRate)+"% 选重"+t._s(e.row.selective)+" 回改"+t._s(e.row.replace)+" 键数"+t._s(e.row.keys)+" 退格"+t._s(e.row.backspace)+" 回车"+t._s(e.row.enter)+" 第"+t._s(e.row.retry)+"次跟打 ")]}}])}),e("el-table-column",{attrs:{prop:"title",label:"标题",formatter:t.titleFormatter}}),e("el-table-column",{attrs:{prop:"typeSpeed",label:"速度",width:"80"}}),e("el-table-column",{attrs:{prop:"hitSpeed",label:"击键",width:"60"}}),e("el-table-column",{attrs:{prop:"codeLength",label:"码长",width:"60"}}),e("el-table-column",{attrs:{prop:"idealCodeLength",label:"理想",width:"60"}}),e("el-table-column",{attrs:{prop:"finishedTime",label:"结束时间",formatter:t.timeFormatter,width:"180"}})],1),e("div",{staticClass:"pagination-wrapper"},[e("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.totalAchievement},on:{"current-change":t.handleCurrentChange}})],1)],1)},s=[],i=o("9ab4"),a=o("1b40"),r=o("4bb5"),c=o("cfc9");const l=10;let d=class extends a["c"]{titleFormatter(t,e,o){return o||"未知"}timeFormatter(t,e,o){return new Date(o).toLocaleString()}formatTime(t,e=3){if(t/=1e3,t<60)return""+t.toFixed(e);const o=t%60,n=(t-o)/60;return`${n.toFixed(0)}:${o.toFixed(e)}`}handleCurrentChange(t){const e=(t-1)*l;c["a"].achievement.reverse().offset(e).limit(10).toArray().then(t=>{this.updateAchievements(t)},t=>{console.log(t)})}};Object(i["a"])([Object(r["c"])("achievements")],d.prototype,"achievements",void 0),Object(i["a"])([Object(r["c"])("totalAchievements")],d.prototype,"totalAchievement",void 0),Object(i["a"])([Object(r["b"])("updateAchievements")],d.prototype,"updateAchievements",void 0),d=Object(i["a"])([a["a"]],d);var h=d,u=h,p=o("2877"),g=Object(p["a"])(u,n,s,!1,null,null,null);e["a"]=g.exports},5:function(t,e){},6:function(t,e){},6011:function(t,e,o){"use strict";o.d(e,"b",(function(){return a})),o.d(e,"d",(function(){return r})),o.d(e,"i",(function(){return c})),o.d(e,"f",(function(){return l})),o.d(e,"h",(function(){return d})),o.d(e,"e",(function(){return h})),o.d(e,"g",(function(){return u})),o.d(e,"c",(function(){return p})),o.d(e,"a",(function(){return g}));var n=o("b9fd");const s=new Map([["，",","],["。","."],["《","⇧,"],["》","⇧."],["｜","⇧\\"],["；",";"],["：","⇧;"],["‘","'"],["、","/"],["？","⇧/"],["｀","`"],["～","⇧`"],["！","⇧1"],["＠","⇧2"],["＃","⇧3"],["￥","⇧4"],["％","⇧5"],["……","⇧6"],["＆","⇧7"],["＊","⇧8"],["（","⇧9"],["）","⇧0"],["－","-"],["——","⇧-"],["＝","="],["＋","⇧="],["【","["],["】","]"],["〖","⇧["],["〗","⇧]"],[",",","],["<","⇧,"],[".","."],[">","⇧."],["/","/"],["?","⇧/"],[";",";"],[":","⇧;"],["'","'"],['"',"⇧'"],["\\","\\"],["|","⇧\\"],["`","`"],["~","⇧`"],["!","⇧1"],["@","⇧2"],["#","⇧3"],["$","⇧4"],["%","⇧5"],["^","⇧6"],["&","⇧7"],["*","⇧8"],["(","⇧9"],[")","⇧0"],["-","-"],["_","⇧-"],["+","⇧="],["=","="],["[","["],["]","]"],["{","⇧["],["}","⇧]"]]);var i=o("7300");class a{constructor(t,e,o){this.index=0,this.fourthSingle=!1,this.code=e,this.weight=t,void 0!==o&&(this.index=o)}}class r{constructor(t,e,o,n){this.text=e,this.codings=[new a(t,o,n)]}}class c{constructor(t,e,o="",n=!1,s="",i=[]){this.id=t,this.text=e,this.select=s,this.type=o,this.autoSelect=n,this.codings=i}}class l{constructor(){this.status="wait",this.input="",this.time=0,this.start=0,this.keys=[],this.idealKeys="",this.error=0,this.replace=0,this.cleared=0,this.selective=0,this.phrase=0,this.retry=1,this.timer=0,this.pauseCount=0,this.pauseTime=0,this.keyCount=Object(i["a"])()}}class d{constructor(){this.date=0,this.saved="",this.todayWords=0,this.totalWords=0,this.consecutiveDays=0,this.totalDays=0}}class h{constructor(){this.codings=new n["a"],this.summary=new d,this.overallKeyCount=Object(i["a"])(),this.achievements=[],this.totalAchievements=0}}class u{constructor(){this.loaded=!1,this.retryWhenEmpty=!1,this.finishStrategy="NO_ERROR",this.fontFamily='"Noto Sans SC","Helvetica Neue",Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei","微软雅黑",Arial,sans-serif',this.fontSize="2.4rem",this.articleRows=4,this.inputRows=2,this.pending="#909399",this.typed="#FFFFFF",this.correct="#C0C4CC",this.error="#F56C6C",this.hint=!1,this.pageSize=9,this.maxIndex=0,this.selective="␣23456789",this.nextPage="+",this.selectiveText=" 1234567890;+'＋；’",this.altSelectKey="234567890;'",this.fourthAutoSelect=!0,this.fifthAutoSelect=!0,this.hintOptions=["phrase","color","select","autoSelect"],this.disableSingleHint=!1,this.punctuationAutoSelectHint="顶",this.hintColor="#909399",this.code1="#F56C6C",this.code2="#E6A23C",this.code3="#409EFF",this.code4="#909399",this.replaceSpace=!0,this.resultOptions=["identity","typeSpeed","hitSpeed","codeLength","version","accuracy","phraseRate","selective","keys","replace","hash","backspace"],this.inputMethod=!1,this.inputMethodName="",this.signature=!1,this.signatureText="",this.addToCodings=["numbers","letters","punctuations"],this.punctuations=s,this.addPunctuationToCodings=!1,this.cloak=!0}}class p{constructor(){this.authenticated=!1,this.token="",this.user=null}}class g{constructor(){this.id=null,this.identity="",this.title="",this.typeSpeed=0,this.hitSpeed=0,this.codeLength=0,this.contentLength=0,this.accuracy=0,this.balance=0,this.leftHand=0,this.rightHand=0,this.idealCodeLength=0,this.keys=0,this.backspace=0,this.enter=0,this.usedTime=0,this.replace=0,this.selective=0,this.phrase=0,this.phraseRate=0,this.pauseCount=0,this.pauseTime=0,this.finishedTime=Date.now()}}},7:function(t,e){},7300:function(t,e,o){"use strict";o.d(e,"b",(function(){return n})),o.d(e,"a",(function(){return s}));const n=new Map([["Escape",{key:"⎋",fn:!0,finger:0,row:0}],["F1",{key:"",fn:!0,finger:0,row:0}],["F2",{key:"",fn:!0,finger:0,row:0}],["F3",{key:"",fn:!0,finger:0,row:0}],["F4",{key:"",fn:!0,finger:0,row:0}],["F5",{key:"",fn:!0,finger:0,row:0}],["F6",{key:"",fn:!0,finger:0,row:0}],["F7",{key:"",fn:!0,finger:0,row:0}],["F8",{key:"",fn:!0,finger:0,row:0}],["F9",{key:"",fn:!0,finger:0,row:0}],["F10",{key:"",fn:!0,finger:0,row:0}],["F11",{key:"",fn:!0,finger:0,row:0}],["F12",{key:"",fn:!0,finger:0,row:0}],["PrintScreen",{key:"",fn:!0,finger:9,row:0}],["ScrollLock",{key:"",fn:!0,finger:9,row:0}],["Pause",{key:"⏸",fn:!0,finger:9,row:0}],["Backquote",{key:"`",finger:0,row:1,coord:[35,120]}],["Digit1",{key:"1",finger:0,row:1,coord:[90,120]}],["Digit2",{key:"2",finger:1,row:1,coord:[144,120]}],["Digit3",{key:"3",finger:2,row:1,coord:[198,120]}],["Digit4",{key:"4",finger:3,row:1,coord:[253,120]}],["Digit5",{key:"5",finger:3,row:1,coord:[307,120]}],["Digit6",{key:"6",finger:5,row:1,coord:[361,120]}],["Digit7",{key:"7",finger:5,row:1,coord:[415,120]}],["Digit8",{key:"8",finger:6,row:1,coord:[469,120]}],["Digit9",{key:"9",finger:7,row:1,coord:[524,120]}],["Digit0",{key:"0",finger:8,row:1,coord:[579,120]}],["Minus",{key:"-",finger:8,row:1,coord:[630,120]}],["Equal",{key:"=",finger:8,row:1,coord:[685,120]}],["Backspace",{key:"⌫",fn:!0,finger:9,row:1,coord:[751,120]}],["Insert",{key:"",fn:!0,finger:9,row:1}],["Home",{key:"⇤",fn:!0,finger:9,row:1}],["PageUp",{key:"«",fn:!0,finger:9,row:1}],["Tab",{key:"⇆",fn:!0,finger:0,row:2,coord:[50,174]}],["KeyQ",{key:"q",finger:0,row:2,coord:[115,174]}],["KeyW",{key:"w",finger:1,row:2,coord:[169,174]}],["KeyE",{key:"e",finger:2,row:2,coord:[224,174]}],["KeyR",{key:"r",finger:3,row:2,coord:[278,174]}],["KeyT",{key:"t",finger:3,row:2,coord:[332,174]}],["KeyY",{key:"y",finger:5,row:2,coord:[386,174]}],["KeyU",{key:"u",finger:5,row:2,coord:[440,174]}],["KeyI",{key:"i",finger:6,row:2,coord:[494,174]}],["KeyO",{key:"o",finger:7,row:2,coord:[548,174]}],["KeyP",{key:"p",finger:8,row:2,coord:[602,174]}],["BracketLeft",{key:"[",finger:8,row:2,coord:[656,174]}],["BracketRight",{key:"]",finger:8,row:2,coord:[710,174]}],["Backslash",{key:"\\",finger:8,row:2,coord:[764,174]}],["Delete",{key:"⌦",fn:!0,finger:9,row:2}],["End",{key:"⇥",fn:!0,finger:9,row:2}],["PageDown",{key:"»",fn:!0,finger:9,row:2}],["CapsLock",{key:"⇪",fn:!0,finger:0,row:3,coord:[58,225]}],["KeyA",{key:"a",finger:0,row:3,coord:[130,225]}],["KeyS",{key:"s",finger:1,row:3,coord:[184,225]}],["KeyD",{key:"d",finger:2,row:3,coord:[238,225]}],["KeyF",{key:"f",finger:3,row:3,coord:[292,225]}],["KeyG",{key:"g",finger:3,row:3,coord:[346,225]}],["KeyH",{key:"h",finger:5,row:3,coord:[400,225]}],["KeyJ",{key:"j",finger:5,row:3,coord:[454,225]}],["KeyK",{key:"k",finger:6,row:3,coord:[508,225]}],["KeyL",{key:"l",finger:7,row:3,coord:[562,225]}],["Semicolon",{key:";",finger:8,row:3,coord:[616,225]}],["Quote",{key:"'",finger:8,row:3,coord:[670,225]}],["Enter",{key:"⏎",fn:!0,finger:8,row:3,coord:[745,225]}],["ShiftLeft",{key:"⇧",fn:!0,finger:0,row:4,coord:[69,275]}],["KeyZ",{key:"z",finger:0,row:4,coord:[158,275]}],["KeyX",{key:"x",finger:1,row:4,coord:[212,275]}],["KeyC",{key:"c",finger:2,row:4,coord:[266,275]}],["KeyV",{key:"v",finger:3,row:4,coord:[320,275]}],["KeyB",{key:"b",finger:3,row:4,coord:[374,275]}],["KeyN",{key:"n",finger:5,row:4,coord:[428,275]}],["KeyM",{key:"m",finger:5,row:4,coord:[482,275]}],["Comma",{key:",",finger:6,row:4,coord:[536,275]}],["Period",{key:".",finger:7,row:4,coord:[590,275]}],["Slash",{key:"/",finger:8,row:4,coord:[644,275]}],["ShiftRight",{key:"⇧",fn:!0,finger:8,row:4,coord:[730,275]}],["ArrowUp",{key:"↑",fn:!0,finger:9,row:4}],["ControlLeft",{key:"⌃",fn:!0,finger:0,row:5}],["AltLeft",{key:"⌥",fn:!0,finger:0,row:5}],["MetaLeft",{key:"⌘",fn:!0,finger:0,row:5}],["Space",{key:"␣",finger:4,row:5,coord:[380,329]}],["ControlRight",{key:"⌃",fn:!0,finger:8,row:5}],["MetaRight",{key:"⌘",fn:!0,finger:8,row:5}],["AltRight",{key:"⌥",fn:!0,finger:8,row:5}],["ArrowLeft",{key:"←",fn:!0,finger:9,row:5}],["ArrowDown",{key:"↓",fn:!0,finger:9,row:0}],["ArrowRight",{key:"→",fn:!0,finger:9,row:0}]]);function s(){const t={};for(const e of n.keys())t[e]=0;return t}},8:function(t,e){},9:function(t,e){},b9fd:function(t,e,o){"use strict";o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return a}));o("14d9");var n=o("6011");const s=(t,e)=>t.weight-e.weight;class i{static convert(t){const e=new i;if(e.value=t.value,t.children){e.children=new Map;for(const o of t.children.entries())e.children.set(o[0],this.convert(o[1]))}return e}get(t){if(!this.children)return null;const e=this.children.get(t);return e||null}set(t){this.children||(this.children=new Map);const e=new i;return this.children.set(t,e),e}}class a{constructor(){this.root=new i}put(t,e,o=-1){let s=this.root;for(const n of t){let t=s.get(n);t||(t=s.set(n)),s=t}const i=e.length,a=10*(-1===o||0===o&&4===i?i+.05:i+1)+Math.max(o,0);if(s.value){const{codings:t}=s.value;t.findIndex(t=>t.code===e)<0&&t.push(new n["b"](a,e,o))}else s.value=new n["d"](a,t,e,o)}get(t){let e=this.root;for(const o of t){const t=e.get(o);if(!t)return;e=t}return e.value}sort(t){if(t||(t=this.root),t.value&&t.value.codings.length>1&&t.value.codings.sort(s),t.children)for(const e of t.children.values())this.sort(e)}}},cd49:function(t,e,o){"use strict";o.r(e);var n=o("2b0e"),s=o("5c96"),i=o.n(s),a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"app"}},[e("el-progress",{attrs:{type:"line",percentage:t.percentage,width:100,color:t.customColors,"stroke-width":4,"show-text":!1,"define-back-color":"#1c1f24"}}),e("el-row",[e("el-col",{attrs:{span:24}},[e("el-menu",{attrs:{router:!0,"default-active":t.pathname,"active-text-color":"#eb9010",mode:"horizontal"}},[e("el-menu-item",{attrs:{index:"/"}},[e("i",{staticClass:"el-icon-medal-1"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("赛文跟打")])]),e("el-menu-item",{attrs:{index:"/practice"}},[e("i",{staticClass:"el-icon-aim"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("词库练习")])]),e("el-menu-item",{attrs:{index:"/setting"}},[e("i",{staticClass:"el-icon-setting"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("设置")])]),e("el-submenu",{attrs:{index:"/stat"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-s-data"}),t._v("跟打统计")]),e("el-menu-item",{attrs:{index:"/history"}},[e("i",{staticClass:"el-icon-data-line"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("跟打历史")])]),e("el-menu-item",{attrs:{index:"/summary"}},[e("i",{staticClass:"el-icon-s-data"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("键盘统计")])])],2),e("el-submenu",{attrs:{index:"/help"}},[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-info"}),t._v("帮助")]),e("el-menu-item",{attrs:{index:"/about"}},[e("i",{staticClass:"el-icon-question"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("帮助/关于")])]),e("el-menu-item",{attrs:{index:"/changelog"}},[e("i",{staticClass:"el-icon-time"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("版本记录")])]),e("el-menu-item",{attrs:{index:"/download"}},[e("i",{staticClass:"el-icon-download"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("程序下载")])])],2)],1)],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("router-view")],1)],1)],1)},r=[],c=o("9ab4"),l=o("1b40"),d=o("b9fd"),h=o("cfc9"),u=o("4bb5"),p=o("d748");const g=Object(u["d"])("setting"),f=Object(u["d"])("login"),y=Object(u["d"])("summary"),m=Object(u["d"])("racing");let v=class extends l["c"]{constructor(){super(...arguments),this.pathname=location.pathname,this.loginFormVisible=!1,this.auth={username:"",password:""},this.customColors=[{color:"#f56c6c",percentage:20},{color:"#cc7700",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#015a4f",percentage:100}]}get percentage(){const t=100*Math.min(this.progress||0,1);return parseFloat(t.toFixed(2))}doLogin(){p["a"].login(this.auth).then(t=>{const{token:e,user:o}=t;localStorage.token=e,localStorage.user=JSON.stringify(o),this.login(t),this.loginFormVisible=!1},t=>{this.$message.error(t.message)})}doLogout(){p["a"].logout().then(()=>{this.logout(),this.$message.success("注销成功")},t=>{this.$message.error(t.message)})}created(){if(localStorage.user&&localStorage.token){const{token:t,user:e}=localStorage;this.login({token:t,user:JSON.parse(e)})}h["a"].configs.get("setting").then(t=>{t&&(this.loadSetting(t),console.log("Settings loaded"))}),h["a"].configs.get("codings").then(t=>{if(t){const e=d["a"].convert(t);this.updateCodings(e),console.log("Trie tree loaded")}}),h["a"].summary.get("keyCount").then(t=>{t&&(delete t.id,this.summaryKeyCount(t),console.log("Key count summary loaded"))}),h["a"].summary.get("wordCount").then(t=>{t&&(console.log("Word count loaded"),this.wordCountLoaded(t))}),h["a"].achievement.count().then(t=>{this.updateTotalAchievements(t)}),h["a"].achievement.reverse().limit(10).toArray().then(t=>{this.updateAchievements(t)},t=>{console.log(t)});const t=!0;t&&o("f0db")}};Object(c["a"])([Object(u["a"])("updateCodings")],v.prototype,"updateCodings",void 0),Object(c["a"])([Object(u["a"])("summaryKeyCount")],v.prototype,"summaryKeyCount",void 0),Object(c["a"])([g.Action("load")],v.prototype,"loadSetting",void 0),Object(c["a"])([f.State("user")],v.prototype,"loginUser",void 0),Object(c["a"])([f.State("authenticated")],v.prototype,"authenticated",void 0),Object(c["a"])([f.Action("login")],v.prototype,"login",void 0),Object(c["a"])([f.Action("logout")],v.prototype,"logout",void 0),Object(c["a"])([y.Action("loaded")],v.prototype,"wordCountLoaded",void 0),Object(c["a"])([Object(u["b"])("updateAchievements")],v.prototype,"updateAchievements",void 0),Object(c["a"])([Object(u["b"])("updateTotalAchievements")],v.prototype,"updateTotalAchievements",void 0),Object(c["a"])([m.Getter("progress")],v.prototype,"progress",void 0),v=Object(c["a"])([l["a"]],v);var b=v,w=b,k=o("2877"),O=Object(k["a"])(w,a,r,!1,null,null,null),S=O.exports,C=o("9483");Object(C["a"])("/easy-typer/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){s["Notification"].info("发现新版本，正在下载...")},updated(){s["Notification"].info("新版本下载完成，刷新开始使用")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});var j=o("8c4f"),x=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"home"}},[e("el-container",[e("el-aside",{attrs:{width:"200px"}},[e("Indicator")],1),e("el-main",{style:t.styles,attrs:{id:"home-main"}},[e("div",[e("el-row",[e("el-col",{attrs:{span:24}},[e("Article",{ref:"article"})],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("Racing",{ref:"racing"})],1)],1),e("el-row",[e("el-col",{attrs:{span:24}},[e("Achievements")],1)],1)],1)])],1),e("el-dialog",{attrs:{visible:t.showLoadDialog,title:"手动载文"},on:{"update:visible":function(e){t.showLoadDialog=e}}},[e("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:t.articleText,callback:function(e){t.articleText=e},expression:"articleText"}}),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showLoadDialog=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.manuallyLoadArticle}},[t._v("确 定")])],1)],1)],1)},_=[],A=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"indicator"}},[e("el-card",{attrs:{shadow:"never"}},[e("el-row",[e("el-col",{staticClass:"speed",attrs:{span:24}},[t._v(" "+t._s(t.typeSpeed)+" ")])],1),e("el-row",[e("el-col",{attrs:{span:8}},[e("div",{staticClass:"hint-block"},[e("span",{staticClass:"number"},[t._v(t._s(t.hitSpeed))]),e("span",{staticClass:"desc"},[e("el-button",{attrs:{type:"text"}},[t._v("击键")])],1)])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"hint-block"},[e("span",{staticClass:"number"},[t._v(t._s(t.codeLength))]),e("span",{staticClass:"desc"},[e("el-button",{attrs:{type:"text"},on:{click:t.showInputKeys}},[t._v("码长")])],1)])]),e("el-col",{attrs:{span:8}},[e("div",{staticClass:"hint-block"},[e("span",{staticClass:"number"},[t._v(t._s(t.idealCodeLength))]),e("span",{staticClass:"desc"},[e("el-button",{attrs:{type:"text"},on:{click:t.showIdealCodes}},[t._v("理想")])],1)])])],1)],1),"waiting"!==t.status&&"finished"!==t.status?e("el-card",{staticClass:"code-hint",attrs:{shadow:"never"}},t._l(t.wordsHint,(function(o){return e("div",{key:o.text},[e("span",{attrs:{type:"info"}},[t._v(t._s(o.text)+"：")]),t._l(o.codings,(function(o){return e("span",{key:o.code},[t._v(t._s(o.code+t.getSelectChar(o.index,o.length)))])}))],2)})),0):t._e(),e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"key-value"},[e("span",[t._v("字数")]),e("span",[t._v(t._s(t.todayWords)+" / "+t._s(t.totalWords))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("天数")]),e("span",[t._v(t._s(t.consecutiveDays)+" / "+t._s(t.totalDays))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("退格")]),e("span",[t._v(t._s(t.backspace))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("退格")]),e("span",[t._v(t._s(t.backspace))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("回车")]),e("span",[t._v(t._s(t.enter))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("回改")]),e("span",[t._v(t._s(t.replace))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("打词")]),e("span",[t._v(t._s(t.phrase))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("选重")]),e("span",[t._v(t._s(t.selective))])]),e("div",{staticClass:"key-value"},[e("span",[t._v("均横")]),e("span",[t._v(t._s(t.leftHand)+"/"+t._s(t.rightHand))])])]),e("el-card",{attrs:{shadow:"never"}},[e("div",{staticClass:"key-value"},[e("span",[t._v("潜水")]),e("span",[e("el-switch",{on:{change:function(e){return t.toggleCloak(t.tempCloak)}},model:{value:t.tempCloak,callback:function(e){t.tempCloak=e},expression:"tempCloak"}})],1)]),e("div",{staticClass:"key-value"},[e("span",[t._v("词提")]),e("span",[e("el-switch",{on:{change:function(e){return t.toggleHint(t.tempHint)}},model:{value:t.tempHint,callback:function(e){t.tempHint=e},expression:"tempHint"}})],1)]),e("div",{staticClass:"key-value"},[e("span",[t._v("替换空格")]),e("span",[e("el-switch",{on:{change:function(e){return t.toggleReplaceSpace(t.tempReplaceSpace)}},model:{value:t.tempReplaceSpace,callback:function(e){t.tempReplaceSpace=e},expression:"tempReplaceSpace"}})],1)])]),e("el-drawer",{attrs:{title:t.drawer.title,visible:t.drawerVisiable,"with-header":!1,size:"100",direction:"ttb"},on:{"update:visible":function(e){t.drawerVisiable=e}}},[e("p",{staticClass:"codes"},[t._v(t._s(t.drawer.text))])])],1)},T=[],H=o("7300");const F=Object(u["d"])("racing"),D=Object(u["d"])("setting"),L=Object(u["d"])("summary");let K=class extends l["c"]{constructor(){super(...arguments),this.tempCloak=!1,this.tempHint=!1,this.tempReplaceSpace=!1,this.drawerVisiable=!1,this.drawer={title:"",text:""}}get percentage(){const t=100*Math.min(this.progress||0,1);return parseFloat(t.toFixed(2))}get progressStatus(){return"finished"===this.status?"success":null}get version(){return"0.1.20"}hintChange(t){this.tempHint!==t&&(this.tempHint=t)}cloakChange(t){this.tempCloak!==t&&(this.tempCloak=t)}replaceSpaceChange(t){this.tempReplaceSpace!==t&&(this.tempReplaceSpace=t)}showIdealCodes(){Object.assign(this.drawer,{title:"输入编码",text:this.idealKeys}),this.drawerVisiable=!0}showInputKeys(){Object.assign(this.drawer,{title:"输入编码",text:this.keys.map(t=>H["b"].get(t)).map(t=>t&&t.key||"❓").join("")}),this.drawerVisiable=!0}created(){this.cloakChange(this.cloak),this.hintChange(this.hint),this.replaceSpaceChange(this.replaceSpace)}};Object(c["a"])([F.State("status")],K.prototype,"status",void 0),Object(c["a"])([F.Getter("typeSpeed")],K.prototype,"typeSpeed",void 0),Object(c["a"])([F.Getter("hitSpeed")],K.prototype,"hitSpeed",void 0),Object(c["a"])([F.Getter("codeLength")],K.prototype,"codeLength",void 0),Object(c["a"])([F.Getter("idealCodeLength")],K.prototype,"idealCodeLength",void 0),Object(c["a"])([F.Getter("hint")],K.prototype,"wordsHint",void 0),Object(c["a"])([F.Getter("passTime")],K.prototype,"passTime",void 0),Object(c["a"])([F.State("phrase")],K.prototype,"phrase",void 0),Object(c["a"])([F.State("selective")],K.prototype,"selective",void 0),Object(c["a"])([F.Getter("enterCount")],K.prototype,"enter",void 0),Object(c["a"])([F.Getter("backspaceCount")],K.prototype,"backspace",void 0),Object(c["a"])([F.State("keyCount")],K.prototype,"keyCount",void 0),Object(c["a"])([F.State("replace")],K.prototype,"replace",void 0),Object(c["a"])([F.Getter("leftHand")],K.prototype,"leftHand",void 0),Object(c["a"])([F.Getter("rightHand")],K.prototype,"rightHand",void 0),Object(c["a"])([F.Getter("progress")],K.prototype,"progress",void 0),Object(c["a"])([F.State("keys")],K.prototype,"keys",void 0),Object(c["a"])([F.State("idealKeys")],K.prototype,"idealKeys",void 0),Object(c["a"])([D.Getter("hint")],K.prototype,"hint",void 0),Object(c["a"])([D.Getter("cloak")],K.prototype,"cloak",void 0),Object(c["a"])([D.Getter("replaceSpace")],K.prototype,"replaceSpace",void 0),Object(c["a"])([D.Getter("getSelectChar")],K.prototype,"getSelectChar",void 0),Object(c["a"])([D.Mutation("toggleCloak")],K.prototype,"toggleCloak",void 0),Object(c["a"])([D.Mutation("toggleHint")],K.prototype,"toggleHint",void 0),Object(c["a"])([D.Mutation("toggleReplaceSpace")],K.prototype,"toggleReplaceSpace",void 0),Object(c["a"])([L.Getter("todayWords")],K.prototype,"todayWords",void 0),Object(c["a"])([L.Getter("totalWords")],K.prototype,"totalWords",void 0),Object(c["a"])([L.Getter("consecutiveDays")],K.prototype,"consecutiveDays",void 0),Object(c["a"])([L.Getter("totalDays")],K.prototype,"totalDays",void 0),Object(c["a"])([Object(l["d"])("hint")],K.prototype,"hintChange",null),Object(c["a"])([Object(l["d"])("cloak")],K.prototype,"cloakChange",null),Object(c["a"])([Object(l["d"])("replaceSpace")],K.prototype,"replaceSpaceChange",null),K=Object(c["a"])([l["a"]],K);var E=K,P=E,M=Object(k["a"])(P,A,T,!1,null,null,null),R=M.exports,$=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"article-main"}},[e("el-row",{ref:"board",class:t.articleStyle},t._l(t.words,(function(t){return e("Words",{key:t.id,attrs:{word:t}})})),1),e("el-divider",{staticClass:"article-info",attrs:{"content-position":"right"}},[e("span",[t._v("第"+t._s(t.identity)+"段")]),e("span",[t._v(t._s(t.title||"未知"))]),e("span",[t._v("共"+t._s(t.length)+"字")])])],1)},G=[],I=(o("14d9"),o("6011")),W=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:t.style},[e("span",[t._v(t._s(t.word.text))]),t.hasHint?e("label",[t._v(t._s(t.hintText))]):t._e()])},B=[];const N=Object(u["d"])("setting");let z=class extends l["c"]{get single(){const t=this.word,e=t.text.length;return!this.disableSingleHint||e>(t.autoSelect?2:1)}get hasColorHint(){return this.hintOptions.indexOf("color")>=0&&this.single||!this.word.type.startsWith("code")}get hasSelectHint(){return this.hintOptions.indexOf("select")>=0&&!!this.word.select&&this.single}get hasCodeHint(){const{codings:t}=this.word;return this.hintOptions.indexOf("code")>=0&&t&&t.length>0&&!!t[0].code&&this.single}get hasAutoSelectHint(){return this.hintOptions.indexOf("autoSelect")>=0&&this.word.autoSelect&&this.single}get style(){const t=["code"];return this.hasColorHint&&t.push(this.word.type),t}get hasHint(){return this.hint&&(this.hasCodeHint||this.hasSelectHint||this.hasAutoSelectHint)}get hintText(){let t="";const{select:e,codings:o}=this.word;return this.hasCodeHint&&(t+=o[0].code),this.hasSelectHint&&(t+=e),this.hasAutoSelectHint&&(t+=this.punctuationAutoSelectHint),t}};Object(c["a"])([Object(l["b"])({type:I["i"],required:!0})],z.prototype,"word",void 0),Object(c["a"])([N.State("hint")],z.prototype,"hint",void 0),Object(c["a"])([N.State("punctuationAutoSelectHint")],z.prototype,"punctuationAutoSelectHint",void 0),Object(c["a"])([N.State("hintOptions")],z.prototype,"hintOptions",void 0),Object(c["a"])([N.State("disableSingleHint")],z.prototype,"disableSingleHint",void 0),z=Object(c["a"])([l["a"]],z);var U=z,q=U,V=Object(k["a"])(q,W,B,!1,null,null,null),J=V.exports;const Q=Object(u["d"])("article"),Z=Object(u["d"])("racing"),Y=Object(u["d"])("setting");let X=class extends l["c"]{get articleStyle(){let t="inline";return this.hint&&this.shortest&&(this.codeHint||this.selectHint||this.autoSelectHint)&&(t="grid"),["article",t]}get selectHint(){return this.hintOptions.indexOf("select")>=0}get codeHint(){return this.hintOptions.indexOf("code")>=0}get autoSelectHint(){return this.hintOptions.indexOf("autoSelect")>=0}get words(){const t=this.content.length;if(0===t)return[];const e=this.input,o=[];if(this.hint&&this.shortest){const{path:n,vertices:s}=this.shortest;for(let i=0;i<t;){const t=s[n[i]].get(i);if(!t)break;const a=this.addPhrase(e,t,o);i=0===a?n[i]:a}}else{const t=e.length,n=this.content.substring(0,t);this.check(0,e,n,o);const s=this.content.substring(t);o.push(new I["i"](t,s,"pending"))}return o}autoScroll(t){const e=this.$refs.board.$el,{clientHeight:o,scrollHeight:n}=e,s=n-o;if(s<=0)return;if(0===t)return void(e.scrollTop=0);const i=80,a=document.querySelector(".code1,.code2,.code3,.code4,.pending");e.scrollTop=a?Math.max(0,a.offsetTop-i):Math.min(t*s,s)}check(t,e,o,n){const s=o.length,i=o.split(""),a=e.split("");let r=i[0]===a[0],c="";a.forEach((e,o)=>{if(o>=s)return;const a=i[o],l=e===a;l!==r&&(n.push(new I["i"](t+o-c.length,c,r?"correct":"error")),c="",r=l),c=c.concat(a)}),c.length>0&&n.push(new I["i"](t+e.length-c.length,c,r?"correct":"error"))}addPhrase(t,e,o){const{from:n,to:s,value:i}=e;if(t.length<=s)return o.push(i),0;{const e=t.length,a=t.substring(s,Math.min(n,e));return this.check(s,a,i.text,o),e>n?0:e}}};Object(c["a"])([Q.State("content")],X.prototype,"content",void 0),Object(c["a"])([Q.State("identity")],X.prototype,"identity",void 0),Object(c["a"])([Q.State("title")],X.prototype,"title",void 0),Object(c["a"])([Q.Getter("length")],X.prototype,"length",void 0),Object(c["a"])([Z.State("input")],X.prototype,"input",void 0),Object(c["a"])([Q.State("shortest")],X.prototype,"shortest",void 0),Object(c["a"])([Z.Getter("progress")],X.prototype,"progress",void 0),Object(c["a"])([Y.State("hint")],X.prototype,"hint",void 0),Object(c["a"])([Y.State("hintOptions")],X.prototype,"hintOptions",void 0),Object(c["a"])([Object(l["d"])("progress")],X.prototype,"autoScroll",null),X=Object(c["a"])([Object(l["a"])({components:{Words:J}})],X);var tt=X,et=tt,ot=Object(k["a"])(et,$,G,!1,null,null,null),nt=ot.exports,st=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("el-input",{ref:"textarea",attrs:{id:"racing-textarea",type:"textarea",disabled:"typing"!==t.status&&"init"!==t.status,placeholder:"在这里输入赛文..."},on:{blur:t.pause,input:function(e){return t.accept(t.input)}},nativeOn:{keydown:function(e){return t.keydown.apply(null,arguments)},keyup:function(e){return t.keyup.apply(null,arguments)},compositionstart:function(e){return t.compositionStart.apply(null,arguments)},compositionupdate:function(e){return t.compositionUpdate.apply(null,arguments)},compositionend:function(e){return t.compositionEnd.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)},it=[];class at{static createFake(t,e,o,n){const s=document.createElement("textarea");s.setAttribute("style","position: absoluteoverflow: hiddenwidth: 0height: 0top: 0left: 0"),s.innerText=t,document.body.appendChild(s),s.select();try{document.execCommand(e),s.remove()}catch(i){n(i)}o()}static copy(t,e,o){navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(t).then(()=>(e&&e(),t),t=>{o&&o(t)}):this.createFake(t,"copy",()=>{e&&e()},t=>{o&&o(t)})}}const rt=Object(u["d"])("racing"),ct=Object(u["d"])("setting");let lt=class extends l["c"]{constructor(){super(...arguments),this.input="",this.compositions=0,this.last=""}statusUpdate(t){switch(t){case"init":{this.input="";const t=document.getElementById("racing-textarea");t.value="",setTimeout(this.focus,50);break}case"typing":setTimeout(this.focus,50);break;case"finished":{const t=this.result;at.copy(t,()=>{this.cloak?console.log("当前处于潜水状态"):window.electronAPI.setGrade("typing finished!")},()=>{this.$message.warning("你的浏览器不支持自动复制，需要手动操作")}),this.$message.success(t);break}}}compositionStart(){this.compositions=0}compositionUpdate(){this.compositions+=1}compositionEnd({data:t}){this.last=t;const e=t.length,{compositions:o}=this;0===e&&o>1?this.cleared(o):e>1&&this.phrase(t)}keydown(t){this.typing(t),this.last="",t.isComposing&&"Backspace"===t.code&&(this.compositions-=2)}keyup(t){t.isComposing||this.checkFinished(this.last)}focus(){this.$refs.textarea.focus()}};Object(c["a"])([rt.State("status")],lt.prototype,"status",void 0),Object(c["a"])([rt.Getter("result")],lt.prototype,"result",void 0),Object(c["a"])([rt.Action("typing")],lt.prototype,"typing",void 0),Object(c["a"])([rt.Mutation("cleared")],lt.prototype,"cleared",void 0),Object(c["a"])([rt.Action("accept")],lt.prototype,"accept",void 0),Object(c["a"])([rt.Action("pause")],lt.prototype,"pause",void 0),Object(c["a"])([rt.Action("phrase")],lt.prototype,"phrase",void 0),Object(c["a"])([rt.Action("checkFinished")],lt.prototype,"checkFinished",void 0),Object(c["a"])([ct.Getter("cloak")],lt.prototype,"cloak",void 0),Object(c["a"])([Object(l["d"])("status")],lt.prototype,"statusUpdate",null),lt=Object(c["a"])([l["a"]],lt);var dt=lt,ht=dt,ut=Object(k["a"])(ht,st,it,!1,null,null,null),pt=ut.exports,gt=o("4c64");const ft=Object(u["d"])("article"),yt=Object(u["d"])("racing"),mt=Object(u["d"])("login"),vt=Object(u["d"])("setting");let bt=class extends l["c"]{constructor(){super(...arguments),this.groups=[],this.group="",this.showLoadDialog=!1,this.articleText=""}get triggerText(){return"pause"===this.status?"继续":"暂停"}get triggerIcon(){return"pause"===this.status?"el-icon-video-play":"el-icon-video-pause"}authChange(t){t?p["a"].groups().then(t=>{t&&(this.groups=t.map(t=>({value:t.guid,label:t.name})))}):this.groups=[]}manuallyLoadArticle(){this.showLoadDialog=!1,this.articleText&&(this.loadText(this.articleText),this.articleText="")}created(){this.authChange(this.authenticated),document.addEventListener("keydown",this.handleShortCut),window.electronAPI&&window.electronAPI.handlePaste((t,e)=>{if(e)try{this.loadText(e)}catch(o){this.$message.error(o.message)}}),document.addEventListener("paste",this.paste),window.addEventListener("blur",()=>this.pause())}destroyed(){document.removeEventListener("keydown",this.handleShortCut),document.removeEventListener("paste",this.paste)}paste(t){if(this.showLoadDialog)return;t.preventDefault();const{clipboardData:e}=t;if(e){const t=e.getData("text/plain");if(t)try{this.loadText(t)}catch(o){this.$message.error(o.message)}}}onGroupChange(){this.group&&p["a"].matches(this.group).then(t=>{t&&this.loadMatch(t)},t=>{this.$message.warning(t.message)})}loadFromClipboard(){try{navigator.clipboard.readText().then(t=>{this.loadText(t)})}catch(t){console.error("Failed to read clipboard contents: ",t)}}trigger(){"pause"===this.status?this.resume():this.pause()}handleShortCut(t){switch(t.key){case"F3":t.preventDefault(),this.retry();break;case"Escape":t.preventDefault(),this.pause();break;case"Enter":t.preventDefault(),this.resume();break}}};Object(c["a"])([yt.State("status")],bt.prototype,"status",void 0),Object(c["a"])([yt.Action("pause")],bt.prototype,"pause",void 0),Object(c["a"])([yt.Action("resume")],bt.prototype,"resume",void 0),Object(c["a"])([yt.Action("retry")],bt.prototype,"retry",void 0),Object(c["a"])([ft.Action("loadText")],bt.prototype,"loadText",void 0),Object(c["a"])([ft.Action("loadMatch")],bt.prototype,"loadMatch",void 0),Object(c["a"])([mt.State("authenticated")],bt.prototype,"authenticated",void 0),Object(c["a"])([vt.Getter("styles")],bt.prototype,"styles",void 0),Object(c["a"])([Object(l["d"])("authenticated")],bt.prototype,"authChange",null),bt=Object(c["a"])([Object(l["a"])({components:{Article:nt,Indicator:R,Racing:pt,Achievements:gt["a"]}})],bt);var wt=bt,kt=wt,Ot=Object(k["a"])(kt,x,_,!1,null,null,null),St=Ot.exports;n["default"].use(j["a"]);const Ct=[{path:"/",name:"Home",component:St},{path:"/practice",name:"Practice",component:()=>o.e("practice").then(o.bind(null,"3b32"))},{path:"/setting",name:"Setting",component:()=>o.e("setting").then(o.bind(null,"4ef5"))},{path:"/summary",name:"Summary",component:()=>o.e("summary").then(o.bind(null,"ad13"))},{path:"/changelog",name:"Changelog",component:()=>Promise.all([o.e("about~changelog"),o.e("changelog")]).then(o.bind(null,"f522"))},{path:"/about",name:"About",component:()=>Promise.all([o.e("about~changelog"),o.e("about")]).then(o.bind(null,"f820"))},{path:"/history",name:"History",component:()=>Promise.all([o.e("about~changelog"),o.e("about")]).then(o.bind(null,"e4bb"))},{path:"/download",name:"Download",component:()=>Promise.all([o.e("about~changelog"),o.e("about")]).then(o.bind(null,"3971"))}],jt=new j["a"]({mode:"history",base:"/easy-typer/",routes:Ct});var xt=jt,_t=(o("3c65"),o("2f62"));o("d9e2");class At{constructor(){this.vertices=[]}addEdge(t){const{from:e,to:o}=t;this.vertices[e]||(this.vertices[e]=new Map),this.vertices[o]||(this.vertices[o]=new Map),this.vertices[e].set(o,t)}shortestPath(){const t=[],e=[],o=[];for(let n=this.vertices.length-1;n>=0;n--)e[n]=n===this.vertices.length-1?0:1/0,t.push({key:n,priority:e[n]});while(t.length>0){const n=t.sort((t,e)=>t.priority-e.priority).shift();if(!n)break;const s=n.key;if(e[s]!==1/0)for(const i of this.vertices[s].keys()){const n=this.vertices[s].get(i);if(!n)continue;const a=e[s]+n.length;a<e[i]&&(e[i]=a,o[i]=s,t.push({key:i,priority:a}))}}return{distance:e[0],path:o,vertices:this.vertices}}}const Tt=/[a-zA-Z0-9]/,Ht=(t,e,o)=>{const{selectiveText:n,fourthAutoSelect:s,punctuations:i}=o;for(const a of t.values())if(i.has(a.value.text)&&!(n.indexOf(a.value.text)>=0))for(const o of e.vertices[a.to].values()){const{to:n}=o,{text:i,type:r,codings:c}=o.value,{code:l,fourthSingle:d,index:h}=c[0];if(!Tt.test(i)&&((l.length<4||!s||!d)&&0===h)){const o=l+a.value.codings[0].code,s=new I["i"](n,i+a.value.text,r,!0,"",[new I["b"](0,o,-1)]),c=t.get(n),d=o.length;(!c||c.length>d)&&e.addEdge({from:a.from,to:n,length:d,value:s})}}},Ft=(t,e,o)=>{const n=t.filter(t=>t.index<e);return o||n&&n.length>0?n:t},Dt=(t,e,o,n)=>{if(!e)return null;const{selective:s,selectiveText:i,maxIndex:a,fourthAutoSelect:r,fifthAutoSelect:c}=o,l=0===a?1/0:a,d=new At,h=t.length;let u;for(let g=0;g<h;g++){u=e;for(let e=g;e<h;e++){const o=u.get(t[e]);if(!o)break;if(o.value){const{text:a,codings:u}=o.value,p=Ft(u,l,a.length>1);if(!p||p.length<1)continue;const{index:f,code:y,fourthSingle:m}=p[0],v=e+1,b=y.length;let w=n(f,b);const k=0===f&&4===b;if(k){const e=!r||!m,o=!c||v===h||i.indexOf(t[v])>=0;e&&o&&(w=s[0])}const O=1===b&&-1===f?"pending":"code"+b,S=new I["i"](g,a,O,!1,w,p);d.addEdge({from:v,to:g,length:b+w.length,value:S})}u=o}}const p=d.vertices;for(let g=1;g<=h;g++){const e=p[g];if(!e||0===e.size){const e=t[g-1];d.addEdge({from:g,to:g-1,length:1,value:new I["i"](g-1,e,"pending",!1,"",[new I["b"](0,"❓",-1)])})}}for(let g=1;g<=h;g++)Ht(p[g],d,o);return d.shortestPath()},Lt=t=>t.replace(/-+第(\d+)段.*/,"$1"),Kt=(t,e)=>{let o="未知",n="1";const s=t.split(/\r?\n/).filter(t=>t&&t.trim().length>0),i=s.length;if(i>1){const e=s[i-1],a=Lt(e);if(a!==e&&(n=a,2===i?t=s[0]:(o=s[0],t=s.slice(1,i-1).join("")),!p["b"].verify(t,e)))throw Error("赛文被篡改，请重新载文")}return e.replaceSpace&&(t=t.replace(/\s/gm,"")),{title:o,content:t,identity:n,shortest:null}},Et={title:"马上可用",identity:"1",content:"1.点击『帮助』-『关于』-『快速开始』完成初始设置；2.按下F4快捷键，即刻开始你的跟打之旅~",shortest:null},Pt={length({content:t}){return t.length}},Mt={load(t,e){Object.assign(t,e)},shortest(t,e){t.shortest=e}},Rt={loadText({rootState:t},e){const{setting:o}=t,n=Kt(e,o);this.dispatch("article/loadArticle",n)},loadMatch(t,e){const{title:o,number:n,content:s}=e,i={title:o,content:s,identity:n,shortest:null};this.dispatch("article/loadArticle",i)},loadArticle({commit:t,rootState:e,rootGetters:o},n){t("load",n),setTimeout(()=>{const{codings:s,setting:i}=e,a=o["setting/getSelectChar"],r=Dt(n.content,s,i,a);if(r){t("shortest",r);const{path:e,vertices:o}=r,n=e.length;let s="";for(let t=0;t<n;){const n=o[e[t]].get(t);if(!n)break;const{codings:i,select:a,text:r}=n.value,c=i?i[0].code:r;s+=("❓"===c?r+c:c)+a,t=e[t]}this.dispatch("racing/setIdealKeys",s)}}),this.dispatch("racing/init",null,{root:!0})}},$t={namespaced:!0,state:Et,getters:Pt,mutations:Mt,actions:Rt},Gt=new Map([["init","初始化"],["wait","等待开始"],["pause","暂停"],["typing","进行中"],["finished","结束"]]),It=(t,e=3)=>{if(t<60)return""+t.toFixed(e);const o=t%60,n=(t-o)/60;return`${n.toFixed(0)}:${o.toFixed(e)}`},Wt=(t,e)=>t.length<e?Wt("0"+t,e):t,Bt=(t,e,o,n)=>{let s=!1,i=0;if("NO_ERROR"===t)s=e===o;else if(s=e.length===o.length,"LAST_RIGHT"===t&&(s=n.length>0?s&&o.endsWith(n):s&&o.charAt(o.length-1)===e.charAt(e.length-1)),s){const t=e.split(""),n=o.split("");for(let e=0;e<t.length;e++)t[e]!==n[e]&&i++}return{finished:s,error:i}},Nt=new I["f"],zt={statusText({status:t}){return Gt.get(t)||"未知"},typed({input:t}){return t.length},hitSpeed({keys:t}){const{time:e,start:o}=Nt,n=(0===o?e:e+Date.now()-o)/1e3;return n<.005?(0).toFixed(2):(t.length/n).toFixed(2)},typeSpeed(t){const{time:e,start:o}=t,n=(0===o?e:e+Date.now()-o)/1e3;if(n<.005)return(0).toFixed(2);const{input:s,error:i}=t;return(Math.max(s.length-5*i,0)/n*60).toFixed(2)},codeLength({keys:t,input:e}){return e.length>0?(t.length/e.length).toFixed(2):"0.00"},idealCodeLength(t,e,{article:o}){return o.shortest?(o.shortest.distance/o.content.length).toFixed(2):"0.00"},phraseRate({phrase:t},e,{article:o}){return(t/o.content.length*100).toFixed(2)},accuracy({keys:t,keyCount:e,replace:o,cleared:n},s){const i=t.length,a=e.Backspace||0,r=i-a-n-o*parseFloat(s.codeLength);return(r/i*100).toFixed(2)},leftHand({keys:t}){return t.map(t=>H["b"].get(t)).filter(t=>t&&t.finger<=3).length},rightHand({keys:t}){return t.map(t=>H["b"].get(t)).filter(t=>t&&t.finger>=5&&t.finger<=8).length},balance(t,e){const{leftHand:o,rightHand:n}=e,s=o+n,i=Math.abs(o-n);return(100-i/s*100).toFixed(2)},enterCount({keyCount:t}){return t.Enter||0},backspaceCount({keyCount:t}){return t.Backspace||0},usedTime({status:t,time:e,start:o}){return"typing"!==t?e/1e3:(e+Date.now()-o)/1e3},passTime({status:t,time:e}){if("typing"!==t&&0===e)return"--:--";const o=e/1e3;if(o<60)return"00:"+Wt(o.toFixed(0),2);const n=o%60,s=(o-n)/60;return`${Wt(s.toFixed(0),2)}:${Wt(n.toFixed(0),2)}`},progress({input:t},e,{article:o}){return t.length/o.content.length},hash(t,e,{article:o}){const{identity:n}=o,{typeSpeed:s,hitSpeed:i,codeLength:a}=e,r=`${n}-${s}-${i}-${a}`;return p["a"].sha1Hmac(r)},hint({input:t},e,{article:o}){const{shortest:n}=o,s=t.length;if(!n||s>=n.path.length)return null;const{path:i,vertices:a}=n,r=[];for(let c=Math.min(10,o.content.length-s);c>0;c--){const t=s+c,e=a[t].get(s);e&&(t===i[s]?r.splice(0,0,e.value):r.push(e.value))}return r},achievement(t,e,{article:o}){const n=new I["a"];return Object.assign(n,{identity:o.identity||"1",title:o.title,typeSpeed:parseFloat(e.typeSpeed),hitSpeed:parseFloat(e.hitSpeed),codeLength:parseFloat(e.codeLength),contentLength:o.content.length,error:t.error,usedTime:t.time,pauseCount:t.pauseCount,pauseTime:t.pauseTime,accuracy:parseFloat(e.accuracy),balance:parseFloat(e.balance),leftHand:e.leftHand,rightHand:e.rightHand,idealCodeLength:parseFloat(e.idealCodeLength),phrase:t.phrase,phraseRate:parseFloat(e.phraseRate),selective:t.selective,replace:t.replace,keys:t.keys.length,backspace:e.backspaceCount,enter:e.enterCount,retry:t.retry}),n},result(t,e,{article:o,setting:n}){const{inputMethod:s,inputMethodName:i,signature:a,signatureText:r}=n,c=new Map([["identity",`第${o.identity||1}段`],["typeSpeed","速度"+e.typeSpeed],["hitSpeed","击键"+e.hitSpeed],["codeLength","码长"+e.codeLength],["contentLength","字数"+o.content.length],["error","错字"+t.error],["usedTime","用时"+It(e.usedTime)],["pauseTime",`暂停${t.pauseCount}次${It(t.pauseTime/1e3)}秒`],["accuracy",`键准${e.accuracy}%`],["balance",`键法${e.balance}%`],["leftHand","左"+e.leftHand],["rightHand","右"+e.rightHand],["idealCodeLength","理论码长"+e.idealCodeLength],["phrase","打词"+t.phrase],["phraseRate",`打词率${e.phraseRate}%`],["selective","选重"+t.selective],["replace","回改"+t.replace],["keys","键数"+t.keys.length],["backspace","退格"+e.backspaceCount],["enter","回车"+e.enterCount],["retry","重打"+t.retry],["hash","哈希"+e.hash],["inputMethod","输入法:"+i],["signature","个性签名:"+r],["version","易跟打macOS版v0.1.20"]]),l=n.resultOptions.slice(0);s&&i&&l.push("inputMethod"),a&&r&&l.push("signature");const d=new Set(l),h=[];return c.forEach((t,e)=>{d.has(e)&&h.push(t)}),h.join(" ")}},Ut={init(t){Object.assign(t,new I["f"]),t.status="init"},start(t){t.status="typing",t.start=Date.now(),t.time=0},finish(t,e){t.error=e.error,t.status="finished",t.time+=Date.now()-t.start,t.start=0,t.timer=0},pause(t){const e=Date.now();t.status="pause",t.time+=e-t.start,t.start=e,t.pauseCount++},resume(t){const e=Date.now();t.status="typing",t.pauseTime+=e-t.start,t.start=e},retry(t){const e=t.retry+1;Object.assign(t,new I["f"]),t.status="init",t.retry=e,t.timer=0},typing(t,{e:e,altSelectKey:o}){const{code:n}=e,{keyCount:s,keys:i}=t,a=s[n];s[n]=(a||0)+1,i.push(n),e.isComposing&&o.indexOf(e.key)>=0&&t.selective++,t.time+=1e-9},accept(t,e){t.input=e},replace(t,e){t.replace+=e},cleared(t,e){t.cleared+=e},phrase(t,e){t.phrase+=e},elapse(t,e){t.time+=e,t.start+=e},timer(t,e){t.timer=e},idealKeys(t,e){t.idealKeys=e}},qt={init({commit:t,state:e}){e.timer&&clearInterval(e.timer),t("init")},retry({commit:t,state:e}){e.timer&&clearInterval(e.timer),"init"!==e.status&&t("retry")},pause({commit:t,state:e}){"typing"===e.status&&t("pause")},resume({commit:t,state:e}){"pause"===e.status&&t("resume")},typing({commit:t,state:e,rootState:o},n){if("init"===e.status&&0===e.timer){const o=1e3,n=setInterval(()=>{"typing"===e.status&&t("elapse",o)},o);t("timer",n),t("start")}const{altSelectKey:s}=o.setting;t("typing",{e:n,altSelectKey:s})},accept({commit:t,state:e,rootState:o},n){if(0===n.length&&o.setting.retryWhenEmpty)this.dispatch("racing/retry");else{if(e.input!==n){const o=n.length-e.input.length;this.dispatch("summary/typeWords",o,{root:!0}),o<0&&t("replace",-o)}t("accept",n)}},phrase({commit:t,rootState:e},o){const{punctuations:n}=e.setting;let s=o.length;const i=o.charAt(s-1);n.has(i)&&(s-=1),s>1&&t("phrase",s)},checkFinished({commit:t,state:e,rootState:o,getters:n},s){const{article:i,setting:a}=o,{input:r}=e,c=Bt(a.finishStrategy,r,i.content,s);c.finished&&(clearInterval(e.timer),t("finish",c),setTimeout(()=>{this.dispatch("summaryKeyCount",e.keyCount),this.dispatch("summary/saveWordCount");const t=n.achievement;this.dispatch("addAchievements",t,{root:!0}),h["a"].achievement.add(t)}))},setIdealKeys({commit:t},e){t("idealKeys",e)}},Vt={namespaced:!0,state:Nt,getters:zt,mutations:Ut,actions:qt},Jt=new I["g"],Qt={state(){return Jt},hint(){return Jt.hint},cloak(){return Jt.cloak},replaceSpace(){return Jt.replaceSpace},styles(){const{pending:t,typed:e,correct:o,error:n,hintColor:s,code1:i,code2:a,code3:r,code4:c,fontFamily:l,fontSize:d,articleRows:h,inputRows:u}=Jt;return{"--pending":t,"--typed":e,"--correct":o,"--error":n,"--hint":s,"--code1":i,"--code2":a,"--code3":r,"--code4":c,"--racing-font":l,"--font-size":d,"--article-rows":h,"--input-rows":u}},getSelectChar(){return(t,e)=>{if(t<0||4===e&&0===t)return"";const{selective:o,pageSize:n,nextPage:s}=Jt;let i=t,a="";while(i>=n)a+=s,i-=n;return a+o[i]}}},Zt={update(t,e){e&&Object.assign(t,e)},loaded(t){t.loaded=!0},toggleHint(t,e){t.hint=e},toggleCloak(t,e){t.cloak=e,h["a"].configs.put(t,"setting")},toggleReplaceSpace(t,e){t.replaceSpace=e}},Yt={load({commit:t},e){e&&(t("update",e),t("loaded"))}},Xt={namespaced:!0,state:Jt,getters:Qt,mutations:Zt,actions:Yt},te=new I["c"],ee={login(t,e){t.authenticated=!0,t.token=e.token,t.user=e.user},logout(t){t.authenticated=!1,t.token="",t.user=null}},oe={login({commit:t},e){e&&(p["a"].updateToken(e.token),t("login",e))},logout({commit:t}){localStorage.removeItem("token"),localStorage.removeItem("user"),t("logout")}},ne={namespaced:!0,state:te,mutations:ee,actions:oe},se=new I["h"],ie={todayWords:t=>t.todayWords,totalWords:t=>t.totalWords,consecutiveDays:t=>t.consecutiveDays,totalDays:t=>t.totalDays},ae={newDay:(t,e)=>{t.todayWords=0,t.consecutiveDays+=1,t.totalDays+=1,t.date=e.getDate(),t.saved=e.toLocaleDateString()},words:(t,e)=>{t.todayWords+=e,t.totalWords+=e},loaded:(t,e)=>{Object.assign(t,e)},saveDate:t=>{t.saved=(new Date).toLocaleDateString()}},re={typeWords:({commit:t,state:e},o)=>{if(o<=0)return;const n=new Date;n.getDate()!==e.date&&t("newDay",n),t("words",o)},loaded:({commit:t},e)=>{const o=new Date,n=new Date;n.setDate(o.getDate()-1),e.saved!==o.toLocaleDateString()&&e.saved!==n.toLocaleDateString()&&(e.consecutiveDays=0),t("loaded",e)},saveWordCount:({commit:t,state:e})=>{const o={};Object.assign(o,e),h["a"].summary.put(o,"wordCount"),t("saveDate")}},ce={namespaced:!0,state:se,getters:ie,mutations:ae,actions:re};n["default"].use(_t["a"]);const le=new I["e"],de={state:le,modules:{article:$t,racing:Vt,setting:Xt,login:ne,summary:ce},mutations:{codings(t,e){t.codings=e},overallKeyCount(t,e){const{overallKeyCount:o}=t;for(const n in e)o[n]+=e[n]},updateAchievements(t,e){t.achievements=e},addAchievements(t,e){t.achievements.unshift(e)},updateTotalAchievements(t,e){t.totalAchievements=e},increaseTotalAchievements(t){t.totalAchievements+=1}},actions:{updateCodings({commit:t},e){t("codings",e)},summaryKeyCount({commit:t,state:e},o){t("overallKeyCount",o),h["a"].summary.put(e.overallKeyCount,"keyCount")},addAchievements({commit:t},e){t("addAchievements",e),t("increaseTotalAchievements")}}};var he=new _t["a"].Store(de);o("e4cb");n["default"].use(i.a),n["default"].config.productionTip=!1,new n["default"]({router:xt,store:he,render:t=>t(S)}).$mount("#app")},cfc9:function(t,e,o){"use strict";var n=o("4dec");class s extends n["a"]{constructor(t){super(t),this.version(1).stores({configs:"id",summary:"id"}),this.version(2).stores({configs:"id",summary:"id",achievement:"++"}),this.version(3).stores({configs:"",summary:"",achievement:"++"}),this.configs=this.table("configs"),this.summary=this.table("summary"),this.achievement=this.table("achievement")}}const i=new s("QuickTyping");i.open().catch(t=>{console.error("Open failed: "+t.stack);const e=new n["a"]("QuickTyping");e.version(2).stores({configs:"id",summary:"id",achievement:"++"}),e.open().then(()=>{const t=new Map;e.tables.forEach(e=>{t.set(e.name,e.toArray())}),Promise.all(t.values()).then(o=>{const[n,s,a]=o;i.delete().then(()=>{i.open().then(()=>{t.set("configs",n.forEach(t=>{const{id:e}=t;delete t.id,i.configs.add(t,e)})),t.set("summary",s.forEach(t=>{const{id:e}=t;delete t.id,i.summary.add(t,e)})),t.set("achievement",a.forEach(t=>i.achievement.add(t))),Promise.all(t.values()).then(()=>{e.close(),alert("检测到数据库版本不兼容，已升级，请刷新页面后开始使用")})})})})})}),e["a"]=i},d748:function(t,e,o){"use strict";(function(t){o.d(e,"b",(function(){return m}));o("d9e2");var n=o("1c46"),s=o("bc3a"),i=o.n(s);i.a.defaults.baseURL="https://api.xc.cool/api",i.a.defaults.responseType="json",i.a.interceptors.response.use(t=>{const{data:e}=t;return e.success&&0===e.code?t.data.data:Promise.reject(new Error(e.msg))},t=>Promise.reject(t));const a=t=>{t&&(i.a.defaults.headers.common.Authorization="Bearer "+t)},r=t=>i.a.post("/login",t),c=()=>i.a.post("/logout"),l=()=>i.a.get("/groups").then(t=>t.data.filter(t=>"unjoined"!==t.role)),d=t=>i.a.get("/matches",{params:{guid:t,status:1}}).then(t=>t&&t.data&&0!==t.data.length?t.data[0]:Promise.reject(new Error("没有赛文"))),h="3198f2e6892d5bdd0630505e20acfc849a12e03c5a1da4c5c41a180c44c67eeb85ef0bc6992d9b0c3926da22ebaa55346bcd76d8556321e044530eff3d868e2636514072",u="sha1",p="hex",g=(()=>{const e=[],o=[],s=[],i=h.substr(-8).split("").map(t=>parseInt(t));for(let t=0;t<i.length;t++){const n=i[t],a=h.substr(16*t,16);n<4?e[n]=a:n>5?s[n-6]=a:o[n-4]=a}const a=n["createDecipheriv"]("aes-256-cbc",t.from(e.join(""),p),t.from(o.join(""),p));a.update(s.join(""),p);const r=a.final();return r.readInt32BE(0)})(),f=t=>{const e=n["createHmac"](u,g.toFixed(0)),o=e.update(t).digest(p);return o.substr(-8)},y=(t,e)=>{const o=/^-----第(\d+)段-(\d+)Z-(.+)V--xc.sw.*$/.exec(e);if(!o)return!0;const n=o[1],s=o[2];return t.length===parseInt(s)&&f(`${t}-${n}`)===o[3]},m={updateToken:a,login:r,logout:c,sha1Hmac:f,verify:y,groups:l,matches:d};e["a"]=m}).call(this,o("b639").Buffer)},f0db:function(t,e,o){}});